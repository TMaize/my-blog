<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta http-equiv="content-language" content="zh-CN" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<meta name="keywords" content="{{ site.author }}{% for category in page.categories %},{{ category }}{% endfor %}"/>
		<meta name="author" content="{{ site.author }}" />
		<meta name="description" content="{{ page.title }}"/>
		<link rel="icon" href="{{site.context}}/static/img/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="{{site.context}}/static/img/favicon.ico" type="image/x-icon"/>
		<link rel="stylesheet" href="{{site.context}}/static/css/blog.css">
		<link rel="stylesheet" href="{{site.context}}/static/css/blog-post.css">
		<script>window.blog={contextPath:""}</script>
		<script type="text/javascript" src="{{site.context}}/static/js/blog.js"></script>
		<title>{{ page.title }}-{{ site.title }}</title>
	</head>
<body>
{% include header.html %}
	<div class="main animation-fadeUp post">
		{% if page.title %}
		<h1 class="title">{{ page.title }}</h1>
		{% endif %}
		<div class="content">{{ content }}</div>
	</div>

	<!-- Gitalk start -->
	<div id="gitalk-container"></div>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
	<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
	<script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>
	<script>
	    var gitalk  = new Gitalk ({
					// md5将路径名加密，确保id小于50个字符，
					// id必须与github-pages-comments的label一致，才能将blog与comment关联
					// comment.rb为生成Gitalk的issue的脚本，对log的路径也做了md5加密
	        id: md5(window.location.pathname),
	        clientID: {{site.gitalk.comment_gitalk_clientId}},
	        clientSecret: {{site.gitalk.comment_gitalk_clientSecret}},
	        repo: {{site.gitalk.blog_repo}},
	        owner: {{site.gitalk.github_username}},
	        admin: {{site.gitalk.github_username}},
			    distractionFreeMode: false  // Facebook-like distraction free mode
	    })
	    gitalk.render('gitalk-container')
	</script>
	<!-- Gitalk end -->

{% include footer.html %}
